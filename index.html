<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JARVIS-ID | QUANT-STRIKE LIVE v2.1</title>
    <link rel="icon" href="https://avatars.githubusercontent.com/u/50509625?v=4&size=200">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #030508;
            --surface: #0d121a;
            --border: #1e293b;
            --bullish: #00ffa3;
            --bearish: #ff3e3e;
            --hold: #ffc107;
            --accent: #38bdf8;
            --dark-accent: #0c4a6e;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background-color: var(--bg); color: #f1f5f9; font-family: 'Inter', sans-serif; overflow-x: hidden; }

        /* GLOBAL MARKET PULSE */
        .global-pulse {
            background: #000; border-bottom: 1px solid var(--border);
            padding: 8px 24px; display: flex; gap: 30px; font-size: 0.75rem;
            font-family: 'JetBrains Mono', monospace; overflow: hidden;
        }

        header {
            min-height: 90px; padding: 0 24px; background: rgba(13, 18, 26, 0.95);
            backdrop-filter: blur(15px); border-bottom: 2px solid var(--accent);
            display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 2000;
        }

        .logo-area { display: flex; align-items: center; gap: 15px; }
        .app-logo { height: 50px; width: 50px; border-radius: 50%; border: 2px solid var(--accent); }

        .dashboard-container {
            padding: 24px; display: grid; grid-template-columns: repeat(auto-fill, minmax(420px, 1fr)); gap: 24px;
        }

        /* CARD STYLE */
        .stock-card {
            background: var(--surface); border: 1px solid var(--border);
            border-radius: 14px; padding: 24px; position: relative; transition: 0.3s;
        }

        .symbol-price { display: flex; align-items: baseline; gap: 10px; margin: 10px 0; }
        .price { font-size: 2rem; font-family: 'JetBrains Mono', monospace; transition: 0.3s; }
        
        /* ANIMASI UPDATE */
        .price-up { color: var(--bullish); text-shadow: 0 0 10px rgba(0, 255, 163, 0.5); }
        .price-down { color: var(--bearish); text-shadow: 0 0 10px rgba(255, 62, 62, 0.5); }

        .recom-tag { font-size: 0.8rem; font-weight: 900; padding: 6px 15px; border-radius: 4px; transition: 0.5s; }
        .BUY { background: rgba(0, 255, 163, 0.2); color: var(--bullish); border: 1px solid var(--bullish); }
        .SELL { background: rgba(255, 62, 62, 0.2); color: var(--bearish); border: 1px solid var(--bearish); }
        .WAIT { background: rgba(255, 193, 7, 0.2); color: var(--hold); border: 1px solid var(--hold); }

        .analytics-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 10px;
            margin-top: 15px; padding: 15px; background: rgba(0,0,0,0.3); border-radius: 8px;
        }
        .a-item span { font-size: 0.6rem; color: #64748b; display: block; text-transform: uppercase; }
        .a-item b { font-size: 0.9rem; font-family: 'JetBrains Mono', monospace; }

        .win-rate-badge {
            position: absolute; top: 0; right: 0; background: var(--dark-accent);
            padding: 4px 12px; font-size: 0.65rem; border-radius: 0 0 0 10px; color: var(--accent);
        }

        .live-indicator {
            display: inline-block; width: 8px; height: 8px; background: var(--bullish);
            border-radius: 50%; margin-right: 5px; animation: blink 1s infinite;
        }
        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }
    </style>
</head>
<body>

<div class="global-pulse">
    <div>IHSG: <span id="ihsg-val" style="color:var(--bullish)">7,320.12 (+0.45%)</span></div>
    <div>USD/IDR: <span style="color:var(--bearish)">15.710 (+0.02%)</span></div>
    <div>Nikkei: <span style="color:var(--bullish)">39,120 (+1.2%)</span></div>
</div>

<header>
    <div class="logo-area">
        <img src="https://avatars.githubusercontent.com/u/50509625?v=4&size=200" class="app-logo">
        <div>
            <h1>JARVIS QUANT-STRIKE</h1>
            <div style="font-size: 0.65rem; color: var(--accent);"><span class="live-indicator"></span> LIVE MARKET DATA ACTIVE</div>
        </div>
    </div>
    <div id="clock" style="font-family: 'JetBrains Mono'; font-weight: bold;">00:00:00</div>
</header>

<div class="dashboard-container" id="stock-grid"></div>

<script>
    // DATA INITIAL STATE
    const stocks = [
        { s: "BBCA", name: "Bank Central Asia", p: 10150, wr: 82, chartData: [] },
        { s: "BBRI", name: "Bank Rakyat Indonesia", p: 6125, wr: 75, chartData: [] },
        { s: "TLKM", name: "Telkom Indonesia", p: 3840, wr: 68, chartData: [] },
        { s: "GOTO", name: "GoTo Ecosystem", p: 68, wr: 51, chartData: [] },
        { s: "ANTM", name: "Aneka Tambang", p: 1650, wr: 70, chartData: [] },
        { s: "AMMN", name: "Amman Mineral", p: 8950, wr: 85, chartData: [] }
    ];

    const charts = {};

    function initDashboard() {
        const grid = document.getElementById('stock-grid');
        stocks.forEach(stk => {
            const card = document.createElement('div');
            card.className = 'stock-card';
            card.id = `card-${stk.s}`;
            card.innerHTML = `
                <div class="win-rate-badge">WIN RATE: ${stk.wr}%</div>
                <div style="font-size: 0.7rem; color: var(--accent);">${stk.name}</div>
                <div class="symbol-price">
                    <span style="font-size: 1.5rem; font-weight: 800;">${stk.s}.JK</span>
                    <span id="price-${stk.s}" class="price">${stk.p.toLocaleString()}</span>
                    <span id="change-${stk.s}" style="font-weight: bold;">0.00%</span>
                </div>
                
                <div style="margin-bottom: 10px;">
                    <span id="rec-${stk.s}" class="recom-tag WAIT">WAIT</span>
                </div>

                <div class="analytics-grid">
                    <div class="a-item"><span>Risk/Reward</span><b id="rr-${stk.s}">1 : 2.4</b></div>
                    <div class="a-item"><span>Foreign Flow</span><b id="ff-${stk.s}">NEUTRAL</b></div>
                    <div class="a-item"><span>Win Rate</span><b>${stk.wr}%</b></div>
                    <div class="a-item"><span>TF Confirm</span><b style="color:var(--bullish)">H1, H4, D1</b></div>
                </div>
                <div id="chart-${stk.s}" style="margin-top:15px;"></div>
            `;
            grid.appendChild(card);

            // Init Chart
            stk.chartData = Array.from({length: 20}, () => stk.p);
            charts[stk.s] = new ApexCharts(document.querySelector(`#chart-${stk.s}`), {
                series: [{ name: 'Price', data: stk.chartData }],
                chart: { type: 'area', height: 80, sparkline: { enabled: true }, animations: { enabled: false } },
                stroke: { curve: 'smooth', width: 2 },
                colors: [varProp('--accent')]
            });
            charts[stk.s].render();
        });
    }

    function varProp(name) { return getComputedStyle(document.documentElement).getPropertyValue(name).trim(); }

    // REAL-TIME ENGINE
    function updateEngine() {
        stocks.forEach(stk => {
            // 1. Simulasikan Perubahan Harga (Random Walk)
            const volatility = stk.p * 0.002; 
            const move = (Math.random() - 0.5) * volatility;
            const oldPrice = stk.p;
            stk.p += move;

            // 2. Update Elemen Harga
            const priceEl = document.getElementById(`price-${stk.s}`);
            const changeEl = document.getElementById(`change-${stk.s}`);
            const recEl = document.getElementById(`rec-${stk.s}`);
            
            priceEl.innerText = Math.round(stk.p).toLocaleString();
            
            // Visual Effect
            if (move > 0) {
                priceEl.className = 'price price-up';
                setTimeout(() => priceEl.className = 'price', 500);
            } else {
                priceEl.className = 'price price-down';
                setTimeout(() => priceEl.className = 'price', 500);
            }

            // 3. Update Percentage & Sinyal Logic
            const diff = ((stk.p - (stk.p - move*10)) / stk.p * 100).toFixed(2);
            changeEl.innerText = `${diff > 0 ? '+' : ''}${diff}%`;
            changeEl.style.color = diff > 0 ? varProp('--bullish') : varProp('--bearish');

            // Sinyal Dinamis (Sederhana: Jika naik > 0.1% maka BUY)
            if (diff > 0.1) {
                recEl.innerText = "BUY";
                recEl.className = "recom-tag BUY";
                document.getElementById(`ff-${stk.s}`).innerText = "ACCUMULATION";
                document.getElementById(`ff-${stk.s}`).style.color = varProp('--bullish');
            } else if (diff < -0.1) {
                recEl.innerText = "SELL";
                recEl.className = "recom-tag SELL";
                document.getElementById(`ff-${stk.s}`).innerText = "DISTRIBUTION";
                document.getElementById(`ff-${stk.s}`).style.color = varProp('--bearish');
            } else {
                recEl.innerText = "WAIT";
                recEl.className = "recom-tag WAIT";
                document.getElementById(`ff-${stk.s}`).innerText = "NEUTRAL";
                document.getElementById(`ff-${stk.s}`).style.color = "#fff";
            }

            // 4. Update Chart (Live Stream)
            stk.chartData.push(Math.round(stk.p));
            if (stk.chartData.length > 20) stk.chartData.shift();
            charts[stk.s].updateSeries([{ data: stk.chartData }]);
        });

        // Update Global IHSG
        const ihsg = document.getElementById('ihsg-val');
        const ihsgMove = (Math.random() * 5).toFixed(2);
        ihsg.innerText = `7,320.12 (+${ihsgMove}%)`;
    }

    // Run Clock
    setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleTimeString(); }, 1000);

    // Run Engine (Setiap 3 Detik)
    window.onload = () => {
        initDashboard();
        setInterval(updateEngine, 3000);
    };
</script>

</body>
</html>
