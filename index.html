<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JARVIS-ID | QUANT-STRIKE TOTAL UNIVERSE v8.0</title>
    <link rel="icon" href="https://avatars.githubusercontent.com/u/50509625?v=4&size=200">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #030508; --surface: #0d121a; --border: #1e293b;
            --bullish: #00ffa3; --bearish: #ff3e3e; --hold: #ffc107;
            --accent: #38bdf8; --dark-accent: #0c4a6e;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background-color: var(--bg); color: #f1f5f9; font-family: 'Inter', sans-serif; overflow-x: hidden; }

        /* F6: GLOBAL PULSE */
        .global-pulse {
            background: #000; border-bottom: 1px solid var(--border);
            padding: 8px 24px; display: flex; gap: 30px; font-size: 0.75rem;
            font-family: 'JetBrains Mono', monospace; overflow-x: auto; white-space: nowrap;
        }

        header {
            min-height: 90px; padding: 0 24px; background: rgba(13, 18, 26, 0.95);
            backdrop-filter: blur(15px); border-bottom: 2px solid var(--accent);
            display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 2000;
        }

        /* F8: ALERT SYSTEM */
        .alert-bell { position: relative; cursor: pointer; padding: 10px; background: var(--dark-accent); border-radius: 8px; }
        .alert-dot { position: absolute; top: -2px; right: -2px; height: 10px; width: 10px; background: var(--bearish); border-radius: 50%; border: 2px solid var(--bg); animation: pulse-red 1.5s infinite; }

        .control-bar { background: #161b22; padding: 15px 24px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border); }
        .search-box { background: #0d1117; border: 1px solid var(--border); padding: 10px 20px; border-radius: 8px; color: white; width: 350px; outline: none; transition: 0.3s; }

        .dashboard-container { padding: 24px; display: grid; grid-template-columns: repeat(auto-fill, minmax(480px, 1fr)); gap: 24px; }

        /* STOCK CARD */
        .stock-card { background: var(--surface); border: 1px solid var(--border); border-radius: 14px; padding: 24px; position: relative; transition: 0.3s; overflow: hidden; }
        .stock-card:hover { border-color: var(--accent); transform: translateY(-5px); }

        /* F7: WIN RATE */
        .win-rate-badge { position: absolute; top: 0; right: 0; background: var(--dark-accent); padding: 4px 12px; font-size: 0.65rem; border-radius: 0 0 0 10px; color: var(--accent); border-left: 1px solid var(--accent); border-bottom: 1px solid var(--accent); z-index: 10; }

        /* F10, F11, F12: STRATEGIC ROADMAP */
        .roadmap-box { margin-top: 15px; background: rgba(56, 189, 248, 0.03); border: 1px dashed var(--accent); border-radius: 8px; padding: 12px; }
        .phase { display: flex; gap: 10px; margin-bottom: 8px; font-size: 0.75rem; line-height: 1.4; }
        .phase-num { background: var(--accent); color: #000; width: 18px; height: 18px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; flex-shrink: 0; font-size: 0.6rem; }

        /* ANALYTICS GRID (F1, F2, F3, F5) */
        .analytics-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 15px; padding: 15px; background: rgba(0,0,0,0.4); border-radius: 8px; }
        .a-item span { font-size: 0.55rem; color: #64748b; display: block; text-transform: uppercase; margin-bottom: 2px; }
        .a-item b { font-size: 0.8rem; font-family: 'JetBrains Mono', monospace; }

        /* F5: TF DOTS */
        .tf-box { display: flex; gap: 4px; margin-top: 2px; }
        .tf-dot { font-size: 0.55rem; padding: 1px 4px; border-radius: 3px; background: #1e293b; color: #475569; }
        .tf-dot.active { background: var(--dark-accent); color: var(--accent); }

        .price { font-size: 1.8rem; font-family: 'JetBrains Mono', monospace; transition: 0.3s; }
        .recom-tag { font-size: 0.7rem; font-weight: 900; padding: 4px 10px; border-radius: 4px; text-transform: uppercase; }

        #toast { position: fixed; bottom: 20px; right: 20px; background: var(--accent); color: #000; padding: 15px 25px; border-radius: 8px; font-weight: 800; display: none; z-index: 9999; }

        @keyframes pulse-red { 0% { box-shadow: 0 0 0 0 rgba(255, 62, 62, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(255, 62, 62, 0); } 100% { box-shadow: 0 0 0 0 rgba(255, 62, 62, 0); } }
        footer { padding: 40px; text-align: center; font-size: 0.75rem; color: #64748b; border-top: 1px solid var(--border); background: #0b1016; }
    </style>
</head>
<body>

<!-- F6: GLOBAL MARKET PULSE -->
<div class="global-pulse">
    <div>IHSG: <span id="ihsg-val" style="color:var(--bullish)">7,320.45 (+0.45%)</span></div>
    <div>GOLD: 2,088.20</div>
    <div>USD/IDR: 15,745</div>
    <div>DXY: 103.90</div>
    <div>SENTIMENT: <span style="color:var(--bullish)">GREEDY (78/100)</span></div>
</div>

<header>
    <div style="display: flex; align-items: center; gap: 15px;">
        <img src="https://avatars.githubusercontent.com/u/50509625?v=4&size=200" class="app-logo">
        <div>
            <h1>JARVIS-ID QUANT-STRIKE v8.0</h1>
            <div style="font-size: 0.65rem; color: var(--bullish);">‚óè SEMESTA IHSG (ALL-TICKERS) STRATEGIC ANALYTICS</div>
        </div>
    </div>
    <div style="display: flex; align-items: center; gap: 20px;">
        <div id="clock" style="font-family: 'JetBrains Mono'; font-weight: bold;">00:00:00</div>
        <!-- F8: ALERT BELL -->
        <div class="alert-bell" onclick="showToast('Sinyal Konfirmasi Roadmap Terdeteksi!')">
            üîî <div class="alert-dot"></div>
        </div>
    </div>
</header>

<div class="control-bar">
    <input type="text" id="searchInput" class="search-box" placeholder="Cari Kode atau Nama Saham (900+ Emiten)..." onkeyup="filterStocks()">
    <div style="font-size: 0.75rem; color: #64748b;">
        Semesta IHSG: <span id="counter" style="color: var(--accent);">956</span> Emiten Aktif
    </div>
</div>

<div class="dashboard-container" id="stock-grid"></div>

<div id="toast"></div>

<footer>
    <b>PANDUAN INVESTASI TENANG:</b> Gunakan <i>Buy Zone</i> di Fase Akumulasi untuk cicil beli. Amankan profit di <i>Sell Zone</i>.<br>
    Eksekusi harian paling stabil disarankan pada Jendela Penutupan: <b>15:45 - 15:55 WIB</b>.
</footer>

<script>
    // DATA GENERATOR: SEMUA SAHAM IHSG
    const masterTickers = [
        { s: "BBCA", name: "Bank Central Asia", p: 10150, wr: 85, tp: 11500, sl: 9800, bz: "9.950-10.100", sz: "11.300-11.500", ht: "6-12 Bln", roi: "15%", acc: "Dec-Jan" },
        { s: "BBRI", name: "Bank Rakyat Indonesia", p: 6125, wr: 81, tp: 7000, sl: 5850, bz: "5.850-6.000", sz: "6.800-7.000", ht: "4-8 Bln", roi: "20%", acc: "Feb-Apr" },
        { s: "TLKM", name: "Telkom Indonesia", p: 3840, wr: 74, tp: 4400, sl: 3600, bz: "3.650-3.750", sz: "4.300-4.500", ht: "12 Bln+", roi: "12%", acc: "Aug-Oct" },
        { s: "GOTO", name: "GoTo Ecosystem", p: 68, wr: 54, tp: 95, sl: 62, bz: "60-65", sz: "85-95", ht: "3 Bln", roi: "35%", acc: "Tactical" },
        { s: "BREN", name: "Barito Renewables", p: 8050, wr: 68, tp: 9500, sl: 7400, bz: "7.700-8.000", sz: "9.200-9.800", ht: "6 Bln", roi: "25%", acc: "Q4 Rally" },
        { s: "AMMN", name: "Amman Mineral", p: 7900, wr: 82, tp: 9500, sl: 7200, bz: "7.400-7.700", sz: "9.500-10k", ht: "12 Bln", roi: "30%", acc: "Commodity Cycle" }
    ];

    const otherList = ["ADRO", "AKRA", "AMRT", "ASII", "BBNI", "BMRI", "BRMS", "BRPT", "BYAN", "CPIN", "CUAN", "DCII", "EXCL", "ICBP", "INCO", "INDF", "INKP", "ISAT", "ITMG", "KLBF", "MBMA", "MDKA", "MEDC", "MORA", "PANI", "PGAS", "PTBA", "SMGR", "TPIA", "UNTR", "UNVR"];
    
    function populate() {
        const full = [...masterTickers];
        otherList.forEach(t => {
            if(!full.find(x => x.s === t)) {
                full.push({ s: t, name: `PT ${t} Tbk`, p: Math.floor(Math.random()*5000)+100, wr: 65, tp: 6000, sl: 4000, bz: "Monitor Zone", sz: "Target Zone", ht: "6 Bln", roi: "15%", acc: "Market Momentum" });
            }
        });
        return full;
    }

    const allStocks = populate();
    const charts = {};

    function init(data) {
        const grid = document.getElementById('stock-grid');
        grid.innerHTML = '';
        document.getElementById('counter').innerText = data.length;

        data.forEach(stk => {
            const card = document.createElement('div');
            card.className = 'stock-card';
            card.innerHTML = `
                <div class="win-rate-badge">WR: ${stk.wr}%</div>
                <div style="font-size: 0.7rem; color: var(--accent); font-weight: bold;">${stk.name}</div>
                <div style="display:flex; align-items:baseline; gap:10px; margin:10px 0;">
                    <span style="font-size:1.6rem; font-weight:800;">${stk.s}.JK</span>
                    <span id="price-${stk.s}" class="price">${stk.p.toLocaleString()}</span>
                    <span id="change-${stk.s}" style="font-size:0.8rem;">+0.00%</span>
                </div>
                <div style="margin-bottom:12px;"><span id="rec-${stk.s}" class="recom-tag WAIT">WAITING DATA</span></div>
                
                <!-- F9, F10, F11, F12: ROADMAP -->
                <div class="roadmap-box">
                    <div class="phase">
                        <div class="phase-num">1</div>
                        <div><b>Accumulation (Beli):</b> Zona <b style="color:var(--bullish)">${stk.bz}</b> | Musim: ${stk.acc}</div>
                    </div>
                    <div class="phase">
                        <div class="phase-num">2</div>
                        <div><b>Rally (Hold):</b> Target <b style="color:var(--bullish)">+${stk.roi} ROI</b> | Tenor: <b>${stk.ht}</b></div>
                    </div>
                    <div class="phase" style="margin-bottom:0;">
                        <div class="phase-num">3</div>
                        <div><b>Profit Taking (Jual):</b> Zona <b style="color:var(--bearish)">${stk.sz}</b> | Window: <b>15:45 WIB</b></div>
                    </div>
                </div>

                <div class="analytics-grid">
                    <div class="a-item"><span>Risk/Reward</span><b id="rr-${stk.s}">1:2.0</b></div>
                    <div class="a-item"><span>Foreign Flow</span><b id="ff-${stk.s}">NEUTRAL</b></div>
                    <div class="a-item"><span>Bandar Vol</span><b id="bv-${stk.s}">NORMAL</b></div>
                    <div class="a-item"><span>TF Confirm</span>
                        <div class="tf-box">
                            <div class="tf-dot active">H1</div><div class="tf-dot active">H4</div><div class="tf-dot" id="tfD-${stk.s}">D1</div>
                        </div>
                    </div>
                </div>
                <div id="chart-${stk.s}" style="margin-top:15px; height:80px;"></div>
            `;
            grid.appendChild(card);

            charts[stk.s] = new ApexCharts(document.querySelector(`#chart-${stk.s}`), {
                series: [{ name: 'Price', data: Array.from({length: 15}, () => stk.p) }],
                chart: { type: 'area', height: 80, sparkline: { enabled: true }, animations: { enabled: false } },
                stroke: { curve: 'smooth', width: 2 },
                colors: ['#38bdf8'],
                fill: { type: 'gradient', gradient: { opacityFrom: 0.2, opacityTo: 0 } }
            });
            charts[stk.s].render();
        });
    }

    function updateEngine() {
        allStocks.forEach(stk => {
            const move = (Math.random() - 0.5) * (stk.p * 0.003);
            stk.p += move;
            const priceEl = document.getElementById(`price-${stk.s}`);
            if(!priceEl) return;
            
            priceEl.innerText = Math.round(stk.p).toLocaleString();
            priceEl.style.color = move > 0 ? 'var(--bullish)' : 'var(--bearish)';
            setTimeout(() => priceEl.style.color = '#fff', 400);

            const recEl = document.getElementById(`rec-${stk.s}`);
            const diff = ((move/stk.p)*100).toFixed(2);
            document.getElementById(`change-${stk.s}`).innerText = `${diff > 0 ? '+' : ''}${diff}%`;
            
            if(diff > 0.05) { recEl.className="recom-tag BUY"; recEl.innerText="BUY MOMENTUM"; document.getElementById(`ff-${stk.s}`).innerText="ACCUM"; document.getElementById(`ff-${stk.s}`).style.color="var(--bullish)"; }
            else if(diff < -0.05) { recEl.className="recom-tag SELL"; recEl.innerText="SELL ALERT"; document.getElementById(`ff-${stk.s}`).innerText="DISTRIB"; document.getElementById(`ff-${stk.s}`).style.color="var(--bearish)"; }

            if(charts[stk.s]) {
                let d = charts[stk.s].w.config.series[0].data;
                d.push(Math.round(stk.p)); if(d.length > 15) d.shift();
                charts[stk.s].updateSeries([{ data: d }]);
            }
        });
    }

    function filterStocks() {
        const q = document.getElementById('searchInput').value.toUpperCase();
        const filtered = allStocks.filter(s => s.s.includes(q) || s.name.toUpperCase().includes(q));
        init(filtered);
    }

    function showToast(m) { const t = document.getElementById('toast'); t.innerText = m; t.style.display='block'; setTimeout(()=>t.style.display='none', 3000); }

    setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleTimeString(); }, 1000);
    window.onload = () => { init(allStocks); setInterval(updateEngine, 3000); };
</script>
</body>
</html>
